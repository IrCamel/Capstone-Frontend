<div class="container d-flex justify-content-center mt-5">
  <form class="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <p class="title">Registrati</p>
    <p class="message">Registrati per poter accedere a Geargram!</p>

    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>

    <div class="flex">
      <label>
        <input type="text" formControlName="nome" class="input" required />
        <span>Nome</span>
        <div *ngIf="submitted && f['nome'].errors" class="invalid-feedback">
          <div *ngIf="f['nome'].errors['required']">Nome is required</div>
        </div>
      </label>

      <label>
        <input type="text" formControlName="cognome" class="input" required />
        <span>Cognome</span>
        <div *ngIf="submitted && f['cognome'].errors" class="invalid-feedback">
          <div *ngIf="f['cognome'].errors['required']">Cognome is required</div>
        </div>
      </label>
    </div>

    <label>
      <input type="email" formControlName="email" class="input" required />
      <span>Email</span>
      <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
        <div *ngIf="f['email'].errors['required']">Email is required</div>
        <div *ngIf="f['email'].errors['email']">Email must be a valid email address</div>
      </div>
    </label>

    <label>
      <input type="number" formControlName="eta" class="input" required />
      <span>Età</span>
      <div *ngIf="submitted && f['eta'].errors" class="invalid-feedback">
        <div *ngIf="f['eta'].errors['required']">Età is required</div>
        <div *ngIf="f['eta'].errors['min']">Età must be greater than 0</div>
      </div>
    </label>

    <label>
      <input type="text" formControlName="username" class="input" required />
      <span>Username</span>
      <div *ngIf="submitted && f['username'].errors" class="invalid-feedback">
        <div *ngIf="f['username'].errors['required']">Username is required</div>
      </div>
    </label>

    <label>
      <input type="password" formControlName="password" class="input" required />
      <span>Password</span>
      <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
        <div *ngIf="f['password'].errors['required']">Password is required</div>
        <div *ngIf="f['password'].errors['minlength']">Password must be at least 6 characters</div>
      </div>
    </label>

    <label class="custom-file-upload">
      <input type="file" id="avatar" class="input-file" (change)="onFileChange($event)" />
      Scegli file
    </label>
    <span id="file-chosen">Nessun file selezionato</span>

    <button type="submit" class="submit">Registrati</button>
    <p class="signin">Hai già un account? <a routerLink="/login">Accedi</a></p>
  </form>
</div>
